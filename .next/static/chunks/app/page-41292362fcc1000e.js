(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2725:(e,s,t)=>{Promise.resolve().then(t.bind(t,5726))},5726:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eg});var a=t(7574),l=t(5101),r=t(6630),n=t(5878),i=t(1230);function c(){let{signIn:e}=(0,r.BG)(),[s,t]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),o=async s=>{t(!0);try{let t=s.get("email"),a=s.get("password");await e("password",{email:t,password:a,flow:l?"signUp":"signIn"}),i.o.success(l?"Account created successfully!":"Signed in successfully!")}catch(e){console.error(l?"Sign up failed:":"Sign in failed:",e),i.o.error(l?"Error creating account":"Sign in error")}finally{t(!1)}};return(0,a.jsxs)("div",{className:"rounded-container border border-neutral-950 bg-black p-6 shadow-sm",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex gap-2 rounded-lg bg-neutral-950 p-1",children:[(0,a.jsx)("button",{type:"button",onClick:()=>c(!1),className:"flex-1 rounded-md px-4 py-2 text-sm font-medium transition-colors ".concat(l?"bg-neutral-950 text-neutral-900":"bg-neutral-300 text-black shadow-sm"),children:"Sign In"}),(0,a.jsx)("button",{type:"button",onClick:()=>c(!0),className:"flex-1 rounded-md px-4 py-2 text-sm font-medium transition-colors ".concat(l?"bg-neutral-300 text-black shadow-sm":"bg-neutral-950 text-neutral-400"),children:"Sign Up"})]})}),(0,a.jsxs)("form",{action:o,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"mb-2 block text-sm font-medium text-neutral-200",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",id:"email",required:!0,className:"w-full rounded-xl border border-neutral-900 bg-black p-3 text-neutral-50 placeholder-neutral-500",placeholder:"Enter your email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"mb-2 block text-sm font-medium text-neutral-200",children:"Password"}),(0,a.jsx)("input",{type:"password",name:"password",id:"password",required:!0,className:"w-full rounded-xl border border-neutral-900 bg-black p-3 text-neutral-50 placeholder-neutral-500",placeholder:"Enter your password",minLength:6})]}),(0,a.jsx)("button",{type:"submit",disabled:s,className:"w-full rounded-lg bg-neutral-300 p-3 text-black transition hover:bg-neutral-400",children:s?l?"Creating account...":"Signing in...":l?"Create Account":"Sign In"})]}),(0,a.jsx)("div",{className:"mt-6 text-center text-sm text-neutral-400",children:l?(0,a.jsxs)("p",{children:["Already have an account?",(0,a.jsx)("button",{type:"button",onClick:()=>c(!1),className:"font-medium text-neutral-50 hover:text-white",children:"Sign In"})]}):(0,a.jsxs)("p",{children:["Don't have an account?",(0,a.jsx)("button",{type:"button",onClick:()=>c(!0),className:"font-medium text-neutral-50 hover:text-white",children:"Sign Up"})]})})]})}var o=t(3780);let d=t(6263).dp;function x(){let{signOut:e}=(0,r.BG)();return(0,a.jsx)("button",{onClick:()=>void e(),className:"text-sm font-medium text-neutral-500 transition hover:text-neutral-300",children:"Sign Out"})}function m(e){let{user:s}=e;return(0,a.jsx)("header",{className:"sticky top-0 z-10 border-b border-neutral-900 bg-black px-4 py-3 text-neutral-300",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsx)("h1",{className:"text-2xl",children:"Tretch"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"text-sm text-neutral-500",children:null==s?void 0:s.email}),(0,a.jsx)(x,{})]})]})})}function u(e){let{platform:s,className:t="",size:l=24}=e,r={width:l,height:l,className:t,viewBox:"0 0 24 24",fill:"currentColor"};switch(s){case"instagram":return(0,a.jsx)("svg",{...r,children:(0,a.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})});case"X":return(0,a.jsx)("svg",{...r,children:(0,a.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})});case"youtube":return(0,a.jsx)("svg",{...r,children:(0,a.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})});case"telegram":return(0,a.jsx)("svg",{...r,children:(0,a.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})});default:return null}}let h=e=>(0,a.jsx)(u,{platform:"instagram",...e}),p=e=>(0,a.jsx)(u,{platform:"X",...e}),g=e=>(0,a.jsx)(u,{platform:"youtube",...e}),b=e=>(0,a.jsx)(u,{platform:"telegram",...e}),j=e=>(0,a.jsx)(h,{...e}),f=e=>(0,a.jsx)(p,{...e}),N=e=>(0,a.jsx)(g,{...e}),v=e=>(0,a.jsx)(b,{...e}),y=e=>{let{className:s="",size:t=24}=e;return(0,a.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",className:s,children:(0,a.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},w=e=>{let{platform:s,className:t="",size:l=24}=e;switch(s){case"instagram":return(0,a.jsx)(j,{className:t,size:l});case"X":return(0,a.jsx)(f,{className:t,size:l});case"youtube":return(0,a.jsx)(N,{className:t,size:l});case"telegram":return(0,a.jsx)(v,{className:t,size:l});default:return(0,a.jsx)(y,{className:t,size:l})}};function k(e){let{selectedPlatform:s,onPlatformSelect:t}=e;return(0,a.jsx)("div",{className:"scrollbar-hide flex space-x-3 overflow-x-auto px-3 lg:px-0",children:[{id:null,name:"All",color:"bg-gray-100",textColor:"text-neutral-300"},{id:"instagram",name:"Instagram",color:"bg-gradient-to-r from-purple-500 to-pink-500",textColor:"text-white"},{id:"X",name:"X",color:"bg-gradient-to-r from-blue-400 to-blue-600",textColor:"text-white"},{id:"youtube",name:"YouTube",color:"bg-gradient-to-r from-red-500 to-red-600",textColor:"text-white"},{id:"telegram",name:"Telegram",color:"bg-gradient-to-r from-cyan-400 to-cyan-600",textColor:"text-white"}].map(e=>(0,a.jsxs)("button",{onClick:()=>t(e.id),className:"flex flex-shrink-0 flex-col items-center space-y-1 rounded-xl p-3 transition-all ".concat(s===e.id?"bg-neutral-950":""),children:[(0,a.jsx)("div",{className:"h-16 w-16 rounded-full ".concat(e.color," flex items-center justify-center ").concat(e.textColor," shadow-lg"),children:(0,a.jsx)(w,{platform:null===e.id?"all":e.id,size:28,className:"text-current"})}),(0,a.jsx)("span",{className:"text-xs font-medium text-neutral-300",children:e.name})]},e.id||"all"))})}var C=t(9113),A=t(6703),S=t(8507),D=t(9193),U=t(8314),z=t(3051),P=t(9678);let L={instagram:"from-purple-500 to-pink-500",X:"from-blue-400 to-blue-600",youtube:"from-red-500 to-red-600",telegram:"from-cyan-400 to-cyan-600"};A.A,S.A,D.A,U.A;let T={idea:{text:"Idea",color:"bg-yellow-100 text-yellow-800",icon:z.A},schedule:{text:"Schedule",color:"bg-green-100 text-green-800",icon:P.A}},E={instagram:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",youtube:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",X:"space-y-4",telegram:"space-y-3 mx-auto"};var I=t(4461),M=t(4366),B=t(2968),_=t(4662),F=t(3807),R=t(8639);function W(){let e=(0,o.IT)(d.auth.loggedInUser),s=(0,o.IT)(d.posts.getUserPosts,{}),t=(0,o.IT)(d.notifications.getUserNotifications,{});if(!s||!t)return(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"mb-6 h-8 w-1/4 rounded bg-gray-200"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-32 rounded-lg bg-gray-200"},e))})]})});let l=s.length,r=s.filter(e=>"schedule"===e.status).length,n=s.filter(e=>"idea"===e.status).length,i=s.reduce((e,s)=>(e[s.platform]=(e[s.platform]||0)+1,e),{}),c=t.slice(0,5),x={instagram:"from-purple-500 to-pink-500",X:"from-blue-400 to-blue-600",youtube:"from-red-500 to-red-600",telegram:"from-cyan-400 to-cyan-600"};return(0,a.jsxs)("div",{className:"mx-auto max-w-6xl p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"mb-2 text-3xl font-bold text-neutral-100",children:"Analytics"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Overview of your content and activity"})]}),(0,a.jsxs)("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-4",children:[(0,a.jsx)("div",{className:"rounded-xl border border-neutral-900 bg-black p-6 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Posts"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-neutral-100",children:l})]}),(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-blue-100",children:(0,a.jsx)(I.A,{className:"h-6 w-6 text-blue-600"})})]})}),(0,a.jsx)("div",{className:"rounded-xl border border-neutral-900 bg-black p-6 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Ideas"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:n})]}),(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-yellow-100",children:(0,a.jsx)(z.A,{className:"h-6 w-6 text-yellow-600"})})]})}),(0,a.jsx)("div",{className:"rounded-xl border border-neutral-900 bg-black p-6 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:r})]}),(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-orange-100",children:(0,a.jsx)(M.A,{className:"h-6 w-6 text-orange-600"})})]})}),(0,a.jsx)("div",{className:"rounded-xl border border-neutral-900 bg-black p-6 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Scheduled"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600",children:r})]}),(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100",children:(0,a.jsx)(P.A,{className:"h-6 w-6 text-green-600"})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-neutral-900 bg-black p-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"mb-6 text-xl font-semibold text-neutral-100",children:"Platform Distribution"}),(0,a.jsx)("div",{className:"space-y-4",children:Object.entries(i).map(e=>{let[s,t]=e,r=l>0?t/l*100:0;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-to-r ".concat(x[s]," flex items-center justify-center text-sm text-white"),children:(0,a.jsx)(w,{platform:s,size:16,className:"text-white"})}),(0,a.jsx)("span",{className:"font-medium capitalize text-neutral-100",children:s})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"h-2 w-24 rounded-full bg-gray-200",children:(0,a.jsx)("div",{className:"h-2 rounded-full bg-gradient-to-r ".concat(x[s]),style:{width:"".concat(r,"%")}})}),(0,a.jsx)("span",{className:"w-8 text-sm font-medium text-gray-600",children:t})]})]},s)})})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-neutral-900 bg-black p-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"mb-6 text-xl font-semibold text-neutral-100",children:"Content Status"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-yellow-50 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(z.A,{className:"h-6 w-6 text-yellow-600"}),(0,a.jsx)("span",{className:"font-medium text-neutral-100",children:"Ideas"})]}),(0,a.jsx)("span",{className:"text-xl font-bold text-yellow-600",children:n})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-green-50 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(P.A,{className:"h-6 w-6 text-green-600"}),(0,a.jsx)("span",{className:"font-medium text-neutral-100",children:"Scheduled"})]}),(0,a.jsx)("span",{className:"text-xl font-bold text-green-600",children:r})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg bg-purple-50 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(z.A,{className:"h-6 w-6 text-purple-600"}),(0,a.jsx)("span",{className:"font-medium text-neutral-100",children:"Ideas"})]}),(0,a.jsx)("span",{className:"text-xl font-bold text-purple-600",children:n})]})]})]})]}),c.length>0&&(0,a.jsxs)("div",{className:"mt-8 rounded-xl border border-neutral-900 bg-black p-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"mb-6 text-xl font-semibold text-neutral-100",children:"Recent Notifications"}),(0,a.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,a.jsxs)("div",{className:"flex items-start space-x-3 rounded-lg bg-gray-50 p-4",children:[(0,a.jsxs)("div",{className:"flex-shrink-0",children:["published"===e.type&&(0,a.jsx)(B.A,{className:"h-5 w-5 text-green-600"}),"reminder"===e.type&&(0,a.jsx)(M.A,{className:"h-5 w-5 text-orange-600"}),"daily"===e.type&&(0,a.jsx)(_.A,{className:"h-5 w-5 text-blue-600"}),"deadline"===e.type&&(0,a.jsx)(P.A,{className:"h-5 w-5 text-red-600"}),"overdue"===e.type&&(0,a.jsx)(F.A,{className:"h-5 w-5 text-red-600"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-neutral-100",children:e.message}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-neutral-200",children:[new Date(e.scheduledFor).toLocaleDateString("ru-RU")," ","в"," ",new Date(e.scheduledFor).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})]})]}),e.sent&&(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("span",{className:"inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-800",children:"Sent"})})]},e._id))})]}),(0,a.jsx)("div",{className:"mt-8 rounded-xl border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 p-6",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(R.A,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-2 text-lg font-semibold text-neutral-100",children:"Email Notifications"}),(0,a.jsxs)("p",{className:"mb-4 text-neutral-300",children:["Receive notifications at: ",null==e?void 0:e.email]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 text-sm text-gray-600 md:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"mb-2 font-medium text-neutral-100",children:"Notification Types:"}),(0,a.jsxs)("ul",{className:"space-y-1",children:[(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)(_.A,{className:"h-4 w-4 text-blue-600"}),(0,a.jsx)("span",{children:"Daily reports"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)(M.A,{className:"h-4 w-4 text-orange-600"}),(0,a.jsx)("span",{children:"Publication reminders"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)(B.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)("span",{children:"Publication notifications"})]}),(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)(F.A,{className:"h-4 w-4 text-red-600"}),(0,a.jsx)("span",{children:"Overdue warnings"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"mb-2 font-medium text-neutral-100",children:"Setup:"}),(0,a.jsx)("p",{children:"Enable notifications when creating or editing posts to receive automatic reminders."})]})]})]})]})})]})}function O(e){let{posts:s,selectedPlatform:t,onEditPost:l}=e,[r,i]=(0,n.useState)(new Date),c={instagram:"bg-gradient-to-r from-purple-500 to-pink-500",X:"bg-gradient-to-r from-blue-400 to-blue-600",youtube:"bg-gradient-to-r from-red-500 to-red-600",telegram:"bg-gradient-to-r from-cyan-400 to-cyan-600"},o=s.filter(e=>e.scheduledDate&&(!t||e.platform===t)),d=s.filter(e=>!e.scheduledDate&&"idea"===e.status&&(!t||e.platform===t)),x=e=>{i(s=>{let t=new Date(s);return"prev"===e?t.setMonth(s.getMonth()-1):t.setMonth(s.getMonth()+1),t})};return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"mb-6 flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between space-x-4",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-neutral-100",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][r.getMonth()]," ",r.getFullYear()]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>x("prev"),className:"rounded-lg bg-gray-100 p-2 transition-colors",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})})}),(0,a.jsx)("button",{onClick:()=>x("next"),className:"rounded-lg bg-gray-100 p-2 transition-colors",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6 rotate-180",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})})})]})]})}),(0,a.jsxs)("div",{className:"overflow-hidden rounded-lg border border-neutral-900 bg-black",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 border-b border-neutral-900 bg-neutral-950",children:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"].map(e=>(0,a.jsx)("div",{className:"p-4 text-center text-sm font-medium text-neutral-200",children:e},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7",children:(e=>{let s=e.getFullYear(),t=e.getMonth(),a=new Date(s,t,1),l=new Date(s,t+1,0).getDate(),r=a.getDay(),n=[];for(let e=0;e<r;e++)n.push(null);for(let e=1;e<=l;e++)n.push(new Date(s,t,e));return n})(r).map((e,s)=>(0,a.jsx)("div",{className:"min-h-32 border-b border-r border-neutral-900 p-2",children:e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-2 text-sm font-medium text-neutral-100",children:e.getDate()}),(0,a.jsx)("div",{className:"space-y-1",children:o.filter(s=>{if(!s.scheduledDate)return!1;let t=new Date(s.scheduledDate);return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}).map(e=>(0,a.jsx)("div",{onClick:()=>l(e._id),className:"".concat(c[e.platform]," cursor-pointer rounded p-1 text-xs text-white transition-opacity hover:opacity-80"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(w,{platform:e.platform,size:16,className:"text-current"}),(0,a.jsx)("span",{className:"truncate",children:e.title||"Untitled"})]})},e._id))})]})},s))})]}),d.length>0&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-semibold text-neutral-100",children:"Unscheduled Posts"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.map(e=>{let s;return(0,a.jsxs)("div",{onClick:()=>l(e._id),className:"cursor-pointer rounded-lg border border-neutral-900 bg-black p-4 transition-shadow hover:shadow-md",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"h-6 w-6 rounded-full ".concat(c[e.platform]," flex items-center justify-center text-xs text-white"),children:(0,a.jsx)(w,{platform:e.platform,size:14,className:"text-white"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-neutral-100",children:e.title||"Untitled"})]}),(0,a.jsx)("p",{className:"line-clamp-2 text-sm text-gray-600",children:e.content}),(0,a.jsx)("div",{className:"mt-2 text-xs text-neutral-200",children:"idea"===(s=e.status)||"draft"===s?(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(z.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Idea"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(P.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Schedule"})]})})]},e._id)})})]})]})}var V=t(6235),X=t(8500),H=t(9442),q=t(6833);function Y(e){let{message:s,type:t,isVisible:l,onClose:r}=e;return((0,n.useEffect)(()=>{if(l){let e=setTimeout(()=>{r()},3e3);return()=>clearTimeout(e)}},[l,r]),l)?(0,a.jsxs)("div",{className:"fixed right-4 top-4 z-50 flex items-center space-x-2 rounded-lg border border-neutral-800 bg-black p-4 shadow-lg",children:["success"===t?(0,a.jsx)(H.A,{className:"h-5 w-5 text-green-500"}):(0,a.jsx)(q.A,{className:"h-5 w-5 text-red-500"}),(0,a.jsx)("span",{className:"text-sm text-neutral-100",children:s}),(0,a.jsx)("button",{onClick:r,className:"text-gray-400 transition-colors hover:text-gray-600",children:(0,a.jsx)(X.A,{className:"h-4 w-4"})})]}):null}function G(e){let{isOpen:s,onClose:t,post:l,onShare:r}=e,[i,c]=(0,n.useState)(""),[o,d]=(0,n.useState)(!1),[x,m]=(0,n.useState)({message:"",type:"success",isVisible:!1});if(!s)return null;let u=async e=>{if(e.preventDefault(),i.trim()){d(!0);try{await r(i),c(""),t(),m({message:"Post sent successfully!",type:"success",isVisible:!0})}catch(e){console.error("Error sharing post:",e),m({message:e instanceof Error?e.message:"Error sending post",type:"error",isVisible:!0})}finally{d(!1)}}};return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:[(0,a.jsxs)("div",{className:"w-full max-w-md rounded-lg border border-neutral-900 bg-black p-6",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-neutral-100",children:"Share post"}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 transition-colors hover:text-gray-600",children:(0,a.jsx)(X.A,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"mb-4 rounded-lg border border-neutral-800 bg-neutral-950 p-3",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-xs font-bold text-white",children:"C"}),(0,a.jsx)("span",{className:"text-sm font-medium text-neutral-100",children:l.title||"Post"})]}),l.content&&(0,a.jsx)("p",{className:"line-clamp-2 text-sm text-neutral-300",children:l.content})]}),(0,a.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"mb-2 block text-sm font-medium text-neutral-200",children:"Email recipient"}),(0,a.jsx)("input",{type:"email",id:"email",value:i,onChange:e=>c(e.target.value),placeholder:"example@email.com",className:"w-full rounded-lg border border-neutral-800 bg-black p-3 text-neutral-100 placeholder-neutral-500 focus:border-neutral-600 focus:outline-none",required:!0})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:t,className:"flex-1 rounded-lg border border-neutral-800 bg-transparent px-4 py-2 text-neutral-300 transition-colors hover:bg-neutral-900",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:o||!i.trim(),className:"flex-1 rounded-lg bg-neutral-100 px-4 py-2 font-medium text-black transition-colors hover:bg-neutral-300 disabled:cursor-not-allowed disabled:opacity-50",children:o?"Sending...":"Send"})]})]})]}),(0,a.jsx)(Y,{message:x.message,type:x.type,isVisible:x.isVisible,onClose:()=>m(e=>({...e,isVisible:!1}))})]})}function J(e){let{post:s,onEdit:t}=e,[r,i]=(0,n.useState)(!1),c=(0,l.y3)(d.posts.sharePost),o=async e=>{try{var t,a;await c({email:e,postData:{title:s.title,content:s.content,platform:s.platform,status:s.status,hashtags:null==(t=s.hashtags)?void 0:t.filter(e=>null!==e),mediaUrls:null==(a=s.mediaUrls)?void 0:a.filter(e=>null!==e)}})}catch(e){throw console.error("Error sharing post:",e),e}};return(0,a.jsxs)("div",{className:"flex h-full flex-col overflow-hidden rounded-lg border border-neutral-950/20 bg-black",children:[s.mediaUrls&&s.mediaUrls.length>0&&(0,a.jsxs)("div",{className:"relative aspect-square bg-gray-100",children:[(0,a.jsx)(V.default,{src:s.mediaUrls[0]||"",alt:"Post media",fill:!0,className:"object-cover"}),s.mediaUrls.length>1&&(0,a.jsxs)("div",{className:"absolute right-2 top-2 rounded bg-black bg-opacity-50 px-2 py-1 text-xs text-white",children:["+",s.mediaUrls.length-1]})]}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col p-4",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:(0,a.jsx)(u,{platform:"instagram",size:16})}),s.title&&(0,a.jsx)("span",{className:"text-sm font-medium text-neutral-100",children:s.title})]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),t(s._id)},className:"text-gray-400 transition-colors hover:text-gray-600",children:(0,a.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})})]}),s.content&&(0,a.jsx)("p",{className:"mb-2 line-clamp-2 flex-1 text-sm text-gray-600",children:s.content}),(0,a.jsxs)("div",{className:"mt-auto",children:[s.hashtags&&s.hashtags.length>0&&(0,a.jsx)("div",{className:"mb-2 flex flex-wrap gap-1",children:s.hashtags.slice(0,3).map((e,s)=>(0,a.jsxs)("span",{className:"text-xs text-blue-400",children:["#",e]},s))}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:new Date(s._creationTime).toLocaleDateString("ru-RU")}),(0,a.jsx)("button",{onClick:()=>i(!0),className:"text-gray-400 transition-colors hover:text-gray-600",children:(0,a.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})})]})]})]}),(0,a.jsx)(G,{isOpen:r,onClose:()=>i(!1),post:s,onShare:o})]})}function K(e){let{post:s,onEdit:t}=e,[r,i]=(0,n.useState)(!1),c=(0,l.y3)(d.posts.sharePost),o=async e=>{try{var t,a;await c({email:e,postData:{title:s.title,content:s.content,platform:s.platform,status:s.status,hashtags:null==(t=s.hashtags)?void 0:t.filter(e=>null!==e),mediaUrls:null==(a=s.mediaUrls)?void 0:a.filter(e=>null!==e)}})}catch(e){throw console.error("Error sharing post:",e),e}};return(0,a.jsxs)("div",{className:"rounded-lg border border-neutral-950 bg-black p-4 transition-colors hover:bg-neutral-950",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-r from-blue-400 to-blue-600 text-white",children:(0,a.jsx)(u,{platform:"X",size:20})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"mb-1 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"font-semibold text-neutral-100",children:"User"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["@",s.platform]})]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),t(s._id)},className:"text-gray-400 transition-colors hover:text-gray-600",children:(0,a.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})})]}),s.content&&(0,a.jsx)("p",{className:"mb-2 leading-relaxed text-neutral-100",children:s.content}),s.mediaUrls&&s.mediaUrls.length>0&&(0,a.jsx)("div",{className:"relative mb-3 aspect-video w-full overflow-hidden rounded-lg",children:(0,a.jsx)(V.default,{src:s.mediaUrls[0]||"",alt:"Post media",fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:(0,a.jsx)("span",{children:new Date(s._creationTime).toLocaleDateString("ru-RU")})}),(0,a.jsx)("button",{onClick:()=>i(!0),className:"text-gray-400 transition-colors hover:text-gray-600",children:(0,a.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})})]})]})]}),(0,a.jsx)(G,{isOpen:r,onClose:()=>i(!1),post:s,onShare:o})]})}function Q(e){let{post:s,onEdit:t}=e,[r,i]=(0,n.useState)(!1),c=(0,l.y3)(d.posts.sharePost),o=async e=>{try{var t,a;await c({email:e,postData:{title:s.title,content:s.content,platform:s.platform,status:s.status,hashtags:null==(t=s.hashtags)?void 0:t.filter(e=>null!==e),mediaUrls:null==(a=s.mediaUrls)?void 0:a.filter(e=>null!==e)}})}catch(e){throw console.error("Error sharing post:",e),e}};return(0,a.jsxs)("div",{className:"overflow-hidden rounded-lg bg-black",children:[s.mediaUrls&&s.mediaUrls.length>0&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"aspect-video bg-gray-100",children:(0,a.jsx)(V.default,{src:s.mediaUrls[0]||"",alt:"Video thumbnail",fill:!0,className:"object-cover"})}),(0,a.jsx)("div",{className:"absolute bottom-2 right-2 rounded bg-black bg-opacity-80 px-2 py-1 text-xs text-white",children:"10:30"})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-gradient-to-r from-red-500 to-red-600 text-white",children:(0,a.jsx)(u,{platform:"youtube",size:16})}),s.title&&(0,a.jsx)("h3",{className:"line-clamp-2 flex-1 font-semibold text-neutral-100",children:s.title})]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),t(s._id)},className:"ml-2 flex-shrink-0 text-gray-400 transition-colors hover:text-gray-600",children:(0,a.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})})]}),s.content&&(0,a.jsx)("p",{className:"mb-2 line-clamp-2 text-sm text-gray-600",children:s.content}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,a.jsx)("span",{children:"Channel Name"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:new Date(s._creationTime).toLocaleDateString("ru-RU")})]}),(0,a.jsx)("button",{onClick:()=>i(!0),className:"text-gray-400 transition-colors hover:text-gray-600",children:(0,a.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})})]})]}),(0,a.jsx)(G,{isOpen:r,onClose:()=>i(!1),post:s,onShare:o})]})}function Z(e){let{post:s,onEdit:t}=e,[r,i]=(0,n.useState)(!1),c=(0,l.y3)(d.posts.sharePost),o=async e=>{try{var t,a;await c({email:e,postData:{title:s.title,content:s.content,platform:s.platform,status:s.status,hashtags:null==(t=s.hashtags)?void 0:t.filter(e=>null!==e),mediaUrls:null==(a=s.mediaUrls)?void 0:a.filter(e=>null!==e)}})}catch(e){throw console.error("Error sharing post:",e),e}};return(0,a.jsxs)("div",{className:"rounded-lg border border-neutral-950 bg-black p-4 transition-colors hover:bg-neutral-950",children:[(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-r from-cyan-400 to-cyan-600 text-white",children:(0,a.jsx)(u,{platform:"telegram",size:20})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-semibold text-neutral-100",children:"Channel Name"}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),t(s._id)},className:"text-gray-400 transition-colors hover:text-gray-600",children:(0,a.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})})})]}),(0,a.jsxs)("div",{className:"mb-2",children:[s.content&&(0,a.jsx)("p",{className:"leading-relaxed text-neutral-100",children:s.content}),s.hashtags&&s.hashtags.length>0&&(0,a.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:s.hashtags.map((e,s)=>(0,a.jsxs)("span",{className:"text-xs text-blue-400",children:["#",e]},s))})]}),s.mediaUrls&&s.mediaUrls.length>0&&(0,a.jsx)("div",{className:"relative mb-3 aspect-video overflow-hidden rounded-lg",children:(0,a.jsx)(V.default,{src:s.mediaUrls[0]||"",alt:"Post media",fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:new Date(s._creationTime).toLocaleDateString("ru-RU")}),(0,a.jsx)("button",{onClick:()=>i(!0),className:"text-gray-400 transition-colors hover:text-gray-600",children:(0,a.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})})]})]})]}),(0,a.jsx)(G,{isOpen:r,onClose:()=>i(!1),post:s,onShare:o})]})}function $(e){let{post:s,onEdit:t}=e,[r,i]=(0,n.useState)(!1),c=(0,l.y3)(d.posts.sharePost),o=async e=>{try{var t,a;await c({email:e,postData:{title:s.title,content:s.content,platform:s.platform,status:s.status,hashtags:null==(t=s.hashtags)?void 0:t.filter(e=>null!==e),mediaUrls:null==(a=s.mediaUrls)?void 0:a.filter(e=>null!==e)}})}catch(e){throw console.error("Error sharing post:",e),e}},x={idea:{text:T.idea.text,icon:(0,a.jsx)(z.A,{className:"h-4 w-4"}),color:T.idea.color},schedule:{text:T.schedule.text,icon:(0,a.jsx)(P.A,{className:"h-4 w-4"}),color:T.schedule.color}},m=e=>"idea"===e||"schedule"===e?x[e]:"draft"===e||"scheduled"===e||"published"===e?x.schedule:x.idea;return(0,a.jsxs)("div",{className:"bg-black",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r ".concat(L[s.platform]," flex items-center justify-center text-white"),children:(0,a.jsx)(w,{platform:s.platform,size:20,className:"text-white"})}),(0,a.jsx)("div",{children:s.title?(0,a.jsx)("div",{className:"font-semibold text-neutral-100",children:s.title}):(0,a.jsx)("div",{className:"font-semibold text-neutral-100",children:"No title"})})]}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})})})]}),s.mediaUrls&&s.mediaUrls.length>0&&(0,a.jsxs)("div",{className:"aspect-square w-full overflow-hidden bg-gray-100",children:[s.mediaUrls[0]&&(0,a.jsx)(V.default,{width:400,height:400,src:s.mediaUrls[0],alt:"Post media",className:"h-full w-full object-cover"}),s.mediaUrls.length>1&&(0,a.jsxs)("div",{className:"absolute right-2 top-2 rounded bg-black bg-opacity-50 px-2 py-1 text-xs text-white",children:["+",s.mediaUrls.length-1]})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("div",{className:"mb-2 flex items-center justify-between",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-medium ".concat(m(s.status).color),children:[m(s.status).icon," ",m(s.status).text]})}),s.content&&(0,a.jsx)("p",{className:"mb-3 leading-relaxed text-neutral-100",children:s.content}),s.hashtags&&s.hashtags.length>0&&(0,a.jsxs)("div",{className:"mb-2 flex flex-wrap gap-1",children:[s.hashtags.slice(0,3).map((e,s)=>(0,a.jsxs)("span",{className:"text-sm text-neutral-700",children:["#",e]},s)),s.hashtags.length>3&&(0,a.jsxs)("span",{className:"text-sm text-neutral-600",children:["+",s.hashtags.length-3," more"]})]}),(0,a.jsxs)("div",{className:"flex justify-between pt-2",children:[s.scheduledDate&&(0,a.jsx)("span",{className:"text-xs text-neutral-700",children:new Date(s.scheduledDate).toLocaleDateString("ru-RU")}),(0,a.jsx)("button",{onClick:()=>i(!0),className:"flex items-center space-x-1 text-neutral-200 transition-colors hover:text-neutral-300",children:(0,a.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})})]})]}),(0,a.jsx)(G,{isOpen:r,onClose:()=>i(!1),post:s,onShare:o})]})}function ee(e){let{platform:s,posts:t,selectedPlatform:l,onEditPost:r,currentView:n}=e;if("calendar"===n)return(0,a.jsx)(O,{posts:t,selectedPlatform:l,onEditPost:e=>r(e)});if("profile"===n)return(0,a.jsx)(W,{});let i=[...t].sort((e,s)=>e.scheduledDate&&!s.scheduledDate?-1:!e.scheduledDate&&s.scheduledDate?1:e.scheduledDate&&s.scheduledDate?e.scheduledDate-s.scheduledDate:s._creationTime-e._creationTime);return(0,a.jsx)("section",{className:"w-full",children:(0,a.jsx)("div",{className:"space-y-0",children:0===i.length?(0,a.jsxs)("div",{className:"py-16 text-center",children:[(0,a.jsx)("div",{className:"mb-4 text-6xl",children:(0,a.jsx)(C.A,{className:"mx-auto h-16 w-16 text-gray-400"})}),(0,a.jsx)("h3",{className:"mb-2 text-xl font-semibold text-neutral-100",children:"No content yet"}),(0,a.jsx)("p",{className:"mb-6 text-gray-600",children:"Create your first post or idea"}),(0,a.jsx)("button",{onClick:()=>r("new"),className:"rounded-full bg-neutral-100 px-6 py-3 font-semibold text-black transition-colors hover:bg-neutral-300",children:"Create Post"})]}):(()=>{switch(s){case"instagram":return(0,a.jsx)("div",{className:E.instagram,children:i.map(e=>(0,a.jsx)("div",{className:"h-full",children:(0,a.jsx)(J,{post:e,onEdit:r})},e._id))});case"X":return(0,a.jsx)("div",{className:E.X,children:i.map(e=>(0,a.jsx)(K,{post:e,onEdit:r},e._id))});case"youtube":return(0,a.jsx)("div",{className:E.youtube,children:i.map(e=>(0,a.jsx)(Q,{post:e,onEdit:r},e._id))});case"telegram":return(0,a.jsx)("div",{className:E.telegram,children:i.map(e=>(0,a.jsx)(Z,{post:e,onEdit:r},e._id))});default:return(0,a.jsx)("div",{className:"space-y-0",children:i.map(e=>(0,a.jsx)($,{post:e,onEdit:()=>r(e._id)},e._id))})}})()})})}var es=t(4297),et=t(2404),ea=t(7919),el=t(7824),er=t(3233),en=t(7397),ei=t(817),ec=t(7296),eo=t(3578);function ed(e){let{postId:s,onClose:t}=e,[r,c]=(0,n.useState)({title:"",content:"",platform:"instagram",status:"idea",scheduledDate:"",scheduledTime:"",hashtags:[],hashtagInput:"",links:"",mentions:"",authorBio:"",location:"",story:!1,reels:!1,poll:"",thread:!1,category:"",privacy:"public",thumbnail:"",timestamps:"",buttons:[],enableNotifications:!1,notificationTime:"09:00",reminderHours:24}),[o,x]=(0,n.useState)([]),[m,u]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1),[g,b]=(0,n.useState)([]),[j,f]=(0,n.useState)([]),N=(0,l.n_)(d.posts.createPost),v=(0,l.n_)(d.posts.updatePost),y=(0,l.n_)(d.posts.deletePost),k=(0,l.y3)(d.posts.publishPost),C=(0,l.n_)(d.posts.generateUploadUrl),A=(0,l.IT)(d.posts.getPlatformSpecificFields,{platform:r.platform}),S=(0,l.IT)(d.posts.getUserPosts,s&&"new"!==s?{}:"skip");(0,n.useEffect)(()=>()=>{g.forEach((e,s)=>{var t;(null==(t=o[s])?void 0:t.name.startsWith("existing-media-"))||URL.revokeObjectURL(e)})},[g,o]),(0,n.useEffect)(()=>{if("new"!==s&&S){let e=S.find(e=>e._id===s);if(e){let s=e.scheduledDate?new Date(e.scheduledDate):null;c({title:e.title,content:e.content,platform:e.platform,status:e.status,scheduledDate:s?s.toISOString().split("T")[0]:"",scheduledTime:s?s.toTimeString().slice(0,5):"",hashtags:e.hashtags,hashtagInput:"",links:e.links.join(", "),mentions:e.mentions.join(", "),authorBio:e.authorBio||"",location:"",story:!1,reels:!1,poll:"",thread:!1,category:"",privacy:"public",thumbnail:"",timestamps:"",buttons:[],enableNotifications:e.enableNotifications||!1,notificationTime:e.notificationTime||"09:00",reminderHours:e.reminderHours||24}),e.mediaIds&&e.mediaIds.length>0&&(f(e.mediaIds),b(e.mediaUrls.filter(e=>null!==e)),x(e.mediaIds.map((s,t)=>{var a;return new File([],"existing-media-".concat(t),{type:(null==(a=e.mediaTypes)?void 0:a[t])||"image/jpeg"})})))}}},[s,S]);let D=(e,s)=>{c(t=>{let a={...t,[e]:s};return"status"===e&&"schedule"===s&&(a.enableNotifications=!0),a})},L=async e=>{u(!0);let s=[],t=[];try{for(let a of Array.from(e)){if(console.log("Processing file:",a.name,"Type:",a.type,"Size:",a.size),a.size>0xa00000){i.o.error("File ".concat(a.name," is too large (max 10MB)"));continue}let e=a.type.startsWith("image/"),l=a.type.startsWith("video/");if(!e&&!l){i.o.error("File ".concat(a.name," is not a supported image or video format"));continue}s.push(a);let r=URL.createObjectURL(a);t.push(r),console.log("Created URL for file:",a.name,"URL:",r)}x(e=>[...e,...s]),b(e=>[...e,...t])}catch(e){console.error("Error in handleMediaUpload:",e),i.o.error("Error uploading files")}finally{u(!1)}},T=async()=>{let e=[];for(let s of o)if(!s.name.startsWith("existing-media-"))try{let t=await C(),a=await fetch(t,{method:"POST",headers:{"Content-Type":s.type},body:s});if(!a.ok)throw Error("Upload failed for ".concat(s.name));let{storageId:l}=await a.json();e.push(l)}catch(e){console.error("Error uploading file:",e),i.o.error("Upload error for ".concat(s.name))}return e},E=async()=>{try{let e=await T(),a=[...j,...e],l=r.scheduledDate&&r.scheduledTime?new Date("".concat(r.scheduledDate,"T").concat(r.scheduledTime)).getTime():void 0,n={title:r.title,content:r.content,platform:r.platform,status:r.status,scheduledDate:l,hashtags:r.hashtags,links:r.links.split(",").map(e=>e.trim()).filter(Boolean),mentions:r.mentions.split(",").map(e=>e.trim()).filter(Boolean),mediaIds:a,authorBio:r.authorBio||void 0,enableNotifications:r.enableNotifications,notificationTime:r.notificationTime,reminderHours:r.reminderHours};"new"===s?(await N(n),i.o.success("Post created!")):s&&(await v({id:s,...n}),i.o.success("Post updated!")),t()}catch(e){console.error("Error saving post:",e),i.o.error("Error saving post")}},I=async()=>{if(!s||"new"===s)return void i.o.error("Please save the post first");p(!0);try{await k({postId:s,platform:r.platform,publishNow:!0}),i.o.success("Post scheduled for ".concat(r.platform,"!")),t()}catch(e){console.error("Error publishing post:",e),i.o.error("Error publishing post")}finally{p(!1)}},B=async()=>{if(s&&"new"!==s&&confirm("Are you sure you want to delete this post? This action cannot be undone."))try{await y({id:s}),i.o.success("Post deleted successfully!"),t()}catch(e){console.error("Error deleting post:",e),i.o.error("Failed to delete post")}},F={instagram:"from-purple-500 to-pink-500",X:"from-blue-400 to-blue-600",youtube:"from-red-500 to-red-600",telegram:"from-cyan-400 to-cyan-600"};return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black text-neutral-300",children:[(0,a.jsxs)("div",{className:"sticky top-0 flex flex-col border-b border-neutral-900 bg-black/90 px-4 py-3 backdrop-blur-xl sm:grid sm:grid-cols-3 sm:items-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between sm:hidden",children:[(0,a.jsx)("button",{onClick:t,className:"transition hover:text-neutral-500",children:(0,a.jsx)(X.A,{className:"h-6 w-6"})}),(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"new"===s?"New Post":"Edit Post"}),(0,a.jsx)("div",{className:"w-6"})," "]}),(0,a.jsx)("div",{className:"hidden items-center sm:flex",children:(0,a.jsx)("button",{onClick:t,className:"transition hover:text-neutral-500",children:(0,a.jsx)(X.A,{className:"h-6 w-6"})})}),(0,a.jsx)("div",{className:"hidden justify-center sm:flex",children:(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"new"===s?"New Post":"Edit Post"})}),(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-end space-x-2 sm:mt-0",children:["schedule"===r.status&&(0,a.jsxs)("label",{className:"relative inline-flex cursor-pointer items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:r.enableNotifications,onChange:e=>D("enableNotifications",e.target.checked),className:"peer sr-only"}),(0,a.jsx)("div",{className:"peer flex h-10 w-10 items-center justify-center rounded-lg border-2 transition-all ".concat(r.enableNotifications?"border-green-500 bg-green-50 text-green-700":"border-gray-300 bg-neutral-300 text-gray-500 hover:border-gray-400"),children:(0,a.jsx)(R.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("button",{onClick:E,className:"h-10 rounded-lg bg-neutral-300 px-3 py-2 text-sm font-semibold text-black transition-colors hover:bg-neutral-500 sm:px-4 sm:text-base",children:"Save"}),"new"!==s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:I,disabled:h,className:"flex h-10 items-center space-x-1 rounded-lg px-3 py-2 text-sm font-semibold transition-colors sm:space-x-2 sm:px-4 sm:text-base ".concat(h?"cursor-not-allowed bg-gray-500":"bg-gradient-to-r ".concat(F[r.platform]," text-white hover:opacity-80")),children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Publishing..."}),(0,a.jsx)("span",{className:"sm:hidden",children:"..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Publish Now"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Publish"})]})}),(0,a.jsx)("button",{onClick:B,className:"flex h-10 items-center space-x-1 rounded-lg bg-red-700 px-3 py-2 text-sm font-semibold text-white transition-colors hover:bg-red-800 sm:space-x-2 sm:px-3 sm:text-base",children:(0,a.jsx)(ei.A,{className:"h-4 w-4"})})]})]})]}),(0,a.jsxs)("div",{className:"mx-auto w-full max-w-[1000px] space-y-6 p-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-3 block text-sm font-medium",children:"Platform"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{id:"instagram",name:"Instagram"},{id:"X",name:"X"},{id:"youtube",name:"YouTube"},{id:"telegram",name:"Telegram"}].map(e=>(0,a.jsxs)("button",{onClick:()=>D("platform",e.id),className:"flex items-center justify-center space-x-2 rounded-lg border p-3 text-white transition-colors ".concat(r.platform===e.id?"bg-gradient-to-r ".concat(F[e.id]," border-none"):"border-neutral-700 hover:border-neutral-600"),children:[(0,a.jsx)(w,{platform:e.id,size:20,className:"text-current"}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"status",className:"mb-2 block text-sm font-medium",children:"Status"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{id:"status",type:"button",onClick:()=>D("status","idea"),className:"flex items-center justify-center space-x-2 rounded-lg border-2 p-3 transition-all ".concat("idea"===r.status?"border-yellow-500 bg-yellow-50 text-yellow-700":"hover:bg-yellow-25 border-gray-300 bg-neutral-300 text-black hover:border-yellow-400"),children:[(0,a.jsx)(z.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Idea"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>D("status","schedule"),className:"flex items-center justify-center space-x-2 rounded-lg border-2 p-3 transition-all ".concat("schedule"===r.status?"border-green-500 bg-green-50 text-green-700":"hover:bg-green-25 border-gray-300 bg-neutral-300 text-black hover:border-green-400"),children:[(0,a.jsx)(P.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Schedule"})]})]})]}),"schedule"===r.status&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium",children:"Date"}),(0,a.jsx)("input",{type:"date",value:r.scheduledDate,onChange:e=>D("scheduledDate",e.target.value),className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-3 text-black focus:border-transparent focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium",children:"Time"}),(0,a.jsx)("input",{type:"time",value:r.scheduledTime,onChange:e=>D("scheduledTime",e.target.value),className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-3 text-black focus:border-transparent focus:ring-2 focus:ring-blue-500"})]})]}),"schedule"===r.status&&r.enableNotifications&&(0,a.jsx)("div",{className:"rounded-lg bg-neutral-950 p-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium",children:"Remind Before Publication (hours)"}),(0,a.jsxs)("select",{value:r.reminderHours,onChange:e=>D("reminderHours",parseInt(e.target.value)),className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-3 text-black focus:border-transparent focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:1,children:"1 hour"}),(0,a.jsx)("option",{value:2,children:"2 hours"}),(0,a.jsx)("option",{value:6,children:"6 hours"}),(0,a.jsx)("option",{value:12,children:"12 hours"}),(0,a.jsx)("option",{value:24,children:"24 hours"}),(0,a.jsx)("option",{value:48,children:"48 hours"}),(0,a.jsx)("option",{value:168,children:"1 week"})]})]})})]}),A&&(0,a.jsxs)("div",{className:"rounded-lg bg-neutral-950 p-4",children:[(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsxs)("h3",{className:"flex items-center space-x-2 text-sm font-medium",children:[(e=>{switch(e){case"instagram":return(0,a.jsx)(es.A,{className:"h-4 w-4"});case"X":return(0,a.jsx)(et.A,{className:"h-4 w-4"});case"youtube":return(0,a.jsx)(ea.A,{className:"h-4 w-4"});case"telegram":return(0,a.jsx)(U.A,{className:"h-4 w-4"});default:return(0,a.jsx)(_.A,{className:"h-4 w-4"})}})(r.platform),(0,a.jsxs)("span",{children:[r.platform.toUpperCase()," Requirements"]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-neutral-400",children:"Content limit:"}),(0,a.jsxs)("span",{className:"ml-2 text-neutral-200",children:[r.content.length,"/",A.maxContentLength]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-neutral-400",children:"Hashtags:"}),(0,a.jsxs)("span",{className:"ml-2 text-neutral-200",children:[r.hashtags.length,"/",A.maxHashtags]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-neutral-400",children:"Media:"}),(0,a.jsxs)("span",{className:"ml-2 text-neutral-200",children:[o.length,"/",A.maxMediaCount]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-neutral-400",children:"Required:"}),(0,a.jsx)("span",{className:"ml-2 text-neutral-200",children:A.required.join(", ")})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"mb-2 block text-sm font-medium",children:["Title"," ",(null==A?void 0:A.required.includes("title"))&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:r.title,onChange:e=>D("title",e.target.value),maxLength:100,className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-3 text-black focus:border-transparent focus:ring-2 focus:ring-blue-500",placeholder:"Enter title..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium",children:"Content"}),(0,a.jsx)("textarea",{value:r.content,onChange:e=>D("content",e.target.value),maxLength:(null==A?void 0:A.maxContentLength)||5e3,rows:6,className:"w-full resize-none rounded-lg border border-gray-300 bg-neutral-300 px-3 py-3 text-black focus:border-transparent focus:ring-2 focus:ring-blue-500",placeholder:"Write your post content..."}),A&&(0,a.jsxs)("div",{className:"mt-1 text-right text-xs text-neutral-400",children:[r.content.length,"/",A.maxContentLength]})]}),A&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium",children:"Media Files"}),(0,a.jsxs)("div",{className:"rounded-lg border-2 border-dashed border-gray-300 p-6 text-center transition-colors hover:border-blue-400",onDragOver:e=>{e.preventDefault(),e.currentTarget.classList.add("border-blue-400","bg-blue-50")},onDragLeave:e=>{e.preventDefault(),e.currentTarget.classList.remove("border-blue-400","bg-blue-50")},onDrop:e=>{e.preventDefault(),e.currentTarget.classList.remove("border-blue-400","bg-blue-50");let s=e.dataTransfer.files;s.length>0&&L(s)},children:[(0,a.jsx)("input",{type:"file",multiple:!0,accept:"image/*,video/mp4,video/webm,video/ogg,video/avi,video/mov,video/wmv",onChange:e=>e.target.files&&L(e.target.files),className:"hidden",id:"media-upload"}),(0,a.jsx)("label",{htmlFor:"media-upload",className:"cursor-pointer",children:(0,a.jsx)("div",{className:"flex flex-col items-center space-y-2",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-gray-500 border-t-transparent"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(es.A,{className:"h-5 w-5 text-gray-600"}),(0,a.jsx)(ea.A,{className:"h-5 w-5 text-gray-600"})]})}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600 hover:text-gray-700",children:"Click to upload"}),(0,a.jsx)("span",{className:"text-gray-500",children:" or drag and drop"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Images and videos up to 10MB"})]})})}),o.length>0&&(0,a.jsx)("div",{className:"mt-4 grid grid-cols-3 gap-2",children:o.map((e,s)=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"aspect-square overflow-hidden rounded-lg bg-gray-200",children:e.type.startsWith("image/")?(0,a.jsx)(V.default,{src:g[s],alt:"Preview ".concat(s+1),fill:!0,className:"object-cover"}):e.type.startsWith("video/")?(0,a.jsx)("video",{src:g[s],className:"h-full w-full object-cover",muted:!0,preload:"metadata",onLoadedMetadata:e=>{e.target.pause()},onError:e=>{console.error("Video loading error:",e)}}):(0,a.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,a.jsx)(_.A,{className:"h-8 w-8 text-gray-400"})})}),(0,a.jsx)("button",{onClick:()=>(e=>{let s=o[e];if(s.name.startsWith("existing-media-")){let e=parseInt(s.name.split("-")[2]);f(s=>s.filter((s,t)=>t!==e))}s.name.startsWith("existing-media-")||URL.revokeObjectURL(g[e]),x(s=>s.filter((s,t)=>t!==e)),b(s=>s.filter((s,t)=>t!==e))})(s),className:"absolute -right-2 -top-2 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 text-xs text-white transition-colors hover:bg-red-600",children:"\xd7"}),(0,a.jsx)("div",{className:"absolute bottom-1 left-1 rounded bg-black bg-opacity-50 px-1 py-0.5 text-xs text-white",children:e.type.startsWith("image/")?"IMG":e.type.startsWith("video/")?"VID":"FILE"})]},s))})]})]}),(()=>{if(!A)return null;let e=[];return"instagram"===r.platform&&e.push((0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium",children:[(0,a.jsx)(el.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Location"})]}),(0,a.jsx)("input",{type:"text",value:r.location,onChange:e=>D("location",e.target.value),className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-2 text-black focus:border-transparent focus:ring-2 focus:ring-purple-500",placeholder:"Add location..."})]},"location"),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:r.story,onChange:e=>D("story",e.target.checked),className:"rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Story"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:r.reels,onChange:e=>D("reels",e.target.checked),className:"rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Reels"})]})]},"story-reels")),"X"===r.platform&&e.push((0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium",children:[(0,a.jsx)(er.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Poll Question"})]}),(0,a.jsx)("input",{type:"text",value:r.poll,onChange:e=>D("poll",e.target.value),className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-2 text-black focus:border-transparent focus:ring-2 focus:ring-blue-500",placeholder:"Add poll question..."})]},"poll"),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:r.thread,onChange:e=>D("thread",e.target.checked),className:"rounded"}),(0,a.jsx)("span",{className:"text-sm",children:"Thread"})]},"thread")),"youtube"===r.platform&&e.push((0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium",children:[(0,a.jsx)(er.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Category"})]}),(0,a.jsxs)("select",{value:r.category,onChange:e=>D("category",e.target.value),className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-2 text-black focus:border-transparent focus:ring-2 focus:ring-red-500",children:[(0,a.jsx)("option",{value:"",children:"Select category"}),(0,a.jsx)("option",{value:"entertainment",children:"Entertainment"}),(0,a.jsx)("option",{value:"education",children:"Education"}),(0,a.jsx)("option",{value:"gaming",children:"Gaming"}),(0,a.jsx)("option",{value:"music",children:"Music"}),(0,a.jsx)("option",{value:"news",children:"News"}),(0,a.jsx)("option",{value:"sports",children:"Sports"}),(0,a.jsx)("option",{value:"technology",children:"Technology"})]})]},"category"),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium",children:[(0,a.jsx)(en.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Privacy"})]}),(0,a.jsxs)("select",{value:r.privacy,onChange:e=>D("privacy",e.target.value),className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-2 text-black focus:border-transparent focus:ring-2 focus:ring-red-500",children:[(0,a.jsx)("option",{value:"public",children:"Public"}),(0,a.jsx)("option",{value:"private",children:"Private"}),(0,a.jsx)("option",{value:"unlisted",children:"Unlisted"})]})]},"privacy"),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium",children:[(0,a.jsx)(M.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Timestamps"})]}),(0,a.jsx)("textarea",{value:r.timestamps,onChange:e=>D("timestamps",e.target.value),rows:3,className:"w-full resize-none rounded-lg border border-gray-300 bg-neutral-300 px-3 py-2 text-black focus:border-transparent focus:ring-2 focus:ring-red-500",placeholder:"0:00 - Introduction 2:30 - Main content 5:45 - Conclusion"})]},"timestamps")),"telegram"===r.platform&&e.push((0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 text-sm font-medium",children:[(0,a.jsx)(er.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Inline Buttons"})]}),(0,a.jsx)("input",{type:"text",value:r.buttons.join(", "),onChange:e=>D("buttons",e.target.value),className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-2 text-black focus:border-transparent focus:ring-2 focus:ring-cyan-500",placeholder:"Button 1, Button 2, Button 3..."})]},"buttons")),e})(),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium",children:"Hashtags"}),(0,a.jsx)("input",{type:"text",value:r.hashtagInput,onChange:e=>{var s;let t;return t=s=e.target.value,void(s&&!s.startsWith("#")&&(t="#"+s),c(e=>({...e,hashtagInput:t})))},onKeyDown:e=>{if("Enter"===e.key||" "===e.key||","===e.key){e.preventDefault();let s=r.hashtagInput.trim().replace(/^#+/,"");s&&!r.hashtags.includes(s)&&c(e=>({...e,hashtags:[...e.hashtags,s],hashtagInput:""}))}},onBlur:()=>{let e=r.hashtagInput.trim().replace(/^#+/,"");e&&!r.hashtags.includes(e)&&c(s=>({...s,hashtags:[...s.hashtags,e],hashtagInput:""}))},className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-3 text-black focus:border-transparent focus:ring-2 focus:ring-blue-500",placeholder:"#nottoforget"}),(0,a.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:r.hashtags.map((e,s)=>(0,a.jsxs)("div",{className:"group relative flex cursor-pointer items-center rounded-md bg-neutral-950 px-3 py-1.5 text-sm transition-colors hover:bg-neutral-700",onClick:()=>{c(s=>({...s,hashtags:s.hashtags.filter(s=>s!==e)}))},children:["#",e,(0,a.jsx)("span",{className:"ml-2 text-neutral-400 transition-colors group-hover:text-neutral-200",children:"\xd7"})]},s))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"mb-2 flex items-center space-x-2 text-sm font-medium",children:[(0,a.jsx)(ec.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Links"})]}),(0,a.jsx)("input",{type:"text",value:r.links,onChange:e=>D("links",e.target.value),className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-3 text-black focus:border-transparent focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"mb-2 flex items-center space-x-2 text-sm font-medium",children:[(0,a.jsx)(eo.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Mentions"})]}),(0,a.jsx)("input",{type:"text",value:r.mentions,onChange:e=>D("mentions",e.target.value),className:"w-full rounded-lg border border-gray-300 bg-neutral-300 px-3 py-3 text-black focus:border-transparent focus:ring-2 focus:ring-blue-500",placeholder:"@username"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-2 block text-sm font-medium",children:"Author Bio"}),(0,a.jsx)("textarea",{value:r.authorBio,onChange:e=>D("authorBio",e.target.value),rows:2,className:"w-full resize-none rounded-lg border border-gray-300 bg-neutral-300 px-3 py-3 text-black focus:border-transparent focus:ring-2 focus:ring-blue-500",placeholder:"Your bio or signature..."})]})]})]})}var ex=t(3640),em=t(6676),eu=t(5947);function eh(e){let{currentView:s,onViewChange:t,onCreatePost:l}=e,r=[{id:"feed",icon:(0,a.jsx)(ex.A,{}),label:"Feed"},{id:"calendar",icon:(0,a.jsx)(P.A,{}),label:"Calendar"},{id:"create",icon:(0,a.jsx)(em.A,{}),label:"Create"},{id:"profile",icon:(0,a.jsx)(eu.A,{}),label:"Profile"}];return(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-20 border-t border-neutral-900 bg-black px-4 py-2",children:(0,a.jsx)("div",{className:"mx-auto flex max-w-md items-center justify-around",children:r.map(e=>(0,a.jsxs)("button",{onClick:()=>{var s;"create"===(s=e.id)?l():t(s)},className:"flex flex-col items-center space-y-1 rounded-lg p-2 transition-colors ".concat(s===e.id?"text-blue-600":"text-neutral-200 hover:text-neutral-300"),children:[e.icon,(0,a.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.id))})})}function ep(){let[e,s]=(0,n.useState)(null),[t,l]=(0,n.useState)("feed"),[r,i]=(0,n.useState)(null),c=(0,o.IT)(d.auth.loggedInUser),x=(0,o.IT)(d.posts.getUserPosts,{platform:e||void 0});return(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[c&&(0,a.jsx)(m,{user:c}),(0,a.jsx)("div",{className:"mx-auto mb-4 w-full max-w-[1000px] border-b border-neutral-900 py-3",children:(0,a.jsx)(k,{selectedPlatform:e,onPlatformSelect:s})}),(0,a.jsx)("div",{className:"mx-auto w-full max-w-[1000px] flex-1 overflow-y-auto pb-20",children:r?(0,a.jsx)(ed,{postId:r,onClose:()=>i(null)}):(0,a.jsx)(ee,{platform:e,posts:x||[],selectedPlatform:e,onEditPost:i,currentView:t})}),(0,a.jsx)(eh,{currentView:t,onViewChange:l,onCreatePost:()=>i("new")})]})}function eg(){return(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,a.jsx)(l.Yz,{children:(0,a.jsx)(ep,{})}),(0,a.jsx)(l.hE,{children:(0,a.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,a.jsx)("header",{className:"sticky top-0 z-10 flex h-16 items-center justify-between border-b border-neutral-900 bg-black/80 px-4 text-neutral-300 shadow-sm backdrop-blur-sm",children:(0,a.jsx)("h2",{className:"text-xl",children:"Tretch"})}),(0,a.jsx)("main",{className:"flex flex-1 items-center justify-center p-8",children:(0,a.jsxs)("div",{className:"mx-auto w-full max-w-md",children:[(0,a.jsxs)("div",{className:"mb-8 text-center",children:[(0,a.jsx)("h1",{className:"mb-4 text-4xl font-bold text-neutral-100",children:"Create & Share"}),(0,a.jsx)("p",{className:"text-xl text-neutral-600",children:"Plan and manage your content across all platforms"})]}),(0,a.jsx)(c,{})]})})]})})]})}}},e=>{e.O(0,[736,182,405,730,358],()=>e(e.s=2725)),_N_E=e.O()}]);